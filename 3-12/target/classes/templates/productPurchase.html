<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" href="./CSS/reset.css"/>
	<link rel="stylesheet" href="../CSS/common.css"/>
	<link rel="stylesheet" href="../CSS/productPurchase.css"/>
	<title>商品購入</title>
</head>

<body>
	<header>
		<h1 class="header__title">商品購入</h1>
		<div class="header__right">
			<button type="button" onclick="location.href='/mypage'">マイページへ</button>
			<button type="button">カートへ</button>
		</div>
	</header>
	<main>
		<div class="item__list">
			<div class="item__list--card">
				<img class="card__img" src="" alt="">
				<p class="card__name">iPhone</p>
				<p class="card__id">製品ID : 1</p>
			</div>
		</div>
		<form class="main__bottom" th:action="@{/add}" th:object="${productPurchaseForm}" th:method="post">
			<label for="id">ユーザーID</label>
			<input type="number" th:field="*{id}">
			<div class="main__bottom__card">
				<!--
				<label for="product_id">製品ID</label>
				<input type="number" th:field="*{product_id}">
				-->
				<div class="container">
					<div class="field">
						<button class="button" id="down">－</button>
						<input type="text" value="0" class="inputtext" th:field="*{quantity}">
						<button class="button" id="up">＋</button>
					</div>
					　<button class="button resetbtn" id="reset">RESET</button>
				</div>
			</div>
			<button>購入</button>
		</form>
	</main>
	<script>
		/**
 商品購入画面の商品数を増減させるカウンター
 */

		(() => {
			//HTMLのid値を使って以下のDOM要素を取得
			const downbutton = document.getElementById('down');
			const upbutton = document.getElementById('up');
			const text = document.getElementById('textbox');
			const reset = document.getElementById('reset');

			//ボタンが押されたらカウント減
			downbutton.addEventListener('click', (event) => {
				//0以下にはならないようにする
				if (text.value >= 1) {
					text.value--;
				}
			});

			//ボタンが押されたらカウント増
			upbutton.addEventListener('click', (event) => {
				text.value++;
			})

			//ボタンが押されたら0に戻る
			reset.addEventListener('click', (event) => {
				text.value = 0;
			})

		})();
	</script>
</body>

</html>